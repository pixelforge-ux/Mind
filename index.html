<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" />
<title>ØªØ³Øª Ø´Ø®ØµÛŒØª â€” Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ</title>
<style>
  :root{
    --card-radius:16px;
    --accent: #2b9cff;
    --text:#222;
    --bg-blur: 20px;
    --container-w:480px;
  }

  /* Ù¾Ø§ÛŒÙ‡ */
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family: "Vazirmatn", "Tahoma", Helvetica, Arial, sans-serif;
    color:var(--text);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    overflow:auto;
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:20px;
    background:#f3f7fb;
  }

  /* Ø²Ù…ÛŒÙ†Ù‡Ù” Ù…ØªØ­Ø±Ú© Ù‡Ù…ÛŒØ´Ú¯ÛŒ (Ø²ÛŒØ± Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§) */
  .bg-anim {
    position:fixed; inset:0; z-index:-3;
    background: linear-gradient(120deg, #a3d8ff 0%, #ffd6e0 50%, #c7ffd8 100%);
    background-size: 300% 300%;
    animation: bgFlow 18s linear infinite;
    filter: blur(8px) saturate(110%);
    transform: scale(1.05);
    opacity:0.95;
  }
  @keyframes bgFlow {
    0%{background-position:0% 50%}
    50%{background-position:100% 50%}
    100%{background-position:0% 50%}
  }

  /* Ø¯Ùˆ Ù„Ø§ÛŒÙ‡Ù” Ú¯Ø±Ø§Ø¯ÛŒÙ†Øª Ø¨Ø±Ø§ÛŒ ÙÛŒØ¯ Ø¨ÛŒÙ† Ø±Ù†Ú¯â€ŒÙ‡Ø§ */
  .bg-overlay, .bg-overlay.next {
    position:fixed; inset:0; z-index:-2;
    pointer-events:none;
    transition: opacity 900ms ease;
  }
  .bg-overlay{opacity:1}
  .bg-overlay.next{opacity:0}

  /* Ú©Ø§Ù†ØªÛŒÙ†Ø± */
  .wrap{
    width:100%;
    max-width:var(--container-w);
    margin:0 auto;
  }

  .card{
    background:rgba(255,255,255,0.85);
    backdrop-filter: blur(var(--bg-blur));
    border-radius:var(--card-radius);
    box-shadow: 0 10px 30px rgba(20,30,60,0.12);
    padding:16px;
    margin-bottom:18px;
    transition: transform .35s ease, opacity .35s ease;
  }

  .center {text-align:center}

  h1{margin:6px 0 12px; font-size:20px}
  p.small{margin:6px 0;color:#555;font-size:13px}

  /* Ø§Ù†ØªØ®Ø§Ø¨ ØªØ³Øª */
  .test-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
  .btn{
    display:inline-block;
    padding:12px;
    border-radius:12px;
    border:none;
    cursor:pointer;
    font-weight:600;
    background:linear-gradient(180deg,#2b9cff,#1b7fd6);
    color:#fff;
    box-shadow:0 6px 16px rgba(43,156,255,0.22);
    transition: transform .15s ease;
  }
  .btn:active{transform:translateY(2px)}
  .btn.ghost{
    background:linear-gradient(180deg,#fff,#f7fbff);
    color:var(--text);
    border:1px solid #e6eefb;
    box-shadow:none;
  }

  /* Ù¾Ø±Ø³Ø´ Ùˆ Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ */
  #quizBox .question{
    font-size:17px;
    font-weight:700;
    margin-bottom:14px;
  }
  .options{display:flex;flex-direction:column;gap:10px}
  .option{
    background:linear-gradient(180deg,#ffffff,#fbfdff);
    border-radius:12px;
    padding:12px;
    cursor:pointer;
    border:1px solid rgba(20,30,60,0.06);
    transition: transform .18s ease, box-shadow .18s ease, background .18s;
    box-shadow:0 6px 18px rgba(16,24,40,0.04);
    font-weight:600;
  }
  .option:hover{transform:translateY(-5px); box-shadow:0 18px 40px rgba(16,24,40,0.08)}
  .option:active{transform:translateY(0)}

  /* progress */
  .progressWrap{height:10px;background:linear-gradient(180deg,#fff,#f7fbff);border-radius:999px;overflow:hidden}
  .progressFill{height:100%;width:0%;background:linear-gradient(90deg,#6fe7c6,#2b9cff);transition:width 450ms ease}

  /* Ú©Ù†ØªØ±Ù„ Ù¾Ø§ÛŒÛŒÙ† ØµÙØ­Ù‡ */
  .controls{display:flex;gap:10px;margin-top:12px}
  .controls .smallBtn{
    flex:1;padding:10px;border-radius:12px;border:none;background:#fff;box-shadow:0 6px 16px rgba(0,0,0,0.06);cursor:pointer
  }

  /* ØµÙØ­Ù‡Ù” Ù†ØªÛŒØ¬Ù‡ */
  .resultCard{
    border-radius:16px;padding:18px;color:#fff;
    text-align:center;
  }
  .resultTitle{font-size:20px;font-weight:800}
  .resultDesc{margin-top:10px;font-size:15px;opacity:0.95}

  /* Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ø¨ÛŒÙ† Ø³ÙˆØ§Ù„â€ŒÙ‡Ø§ (fade/slide) */
  .anim-enter{opacity:0; transform:translateY(12px)}
  .anim-enter.anim-enter-active{opacity:1; transform:none; transition: all 420ms cubic-bezier(.2,.9,.3,1)}
  .anim-leave{opacity:1}
  .anim-leave.anim-leave-active{opacity:0; transform:translateY(-8px); transition: all 320ms cubic-bezier(.2,.9,.3,1)}

  /* Ù¾Ø§Ø³Ø® Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ */
  .option.selected{background:linear-gradient(90deg,#effbff,#f0f7ff);border-color:#bfe9ff}

  /* Ù…ÙˆØ¨Ø§ÛŒÙ„ */
  @media (max-width:420px){
    .test-grid{grid-template-columns:1fr; gap:8px}
    body{padding:14px}
  }
</style>
</head>
<body>

  <!-- Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡Ù” Ù…ØªØ­Ø±Ú© Ø¯Ø§Ø¦Ù…ÛŒ -->
  <div class="bg-anim" aria-hidden="true"></div>

  <!-- Ø¯Ùˆ Ù„Ø§ÛŒÙ‡ Ø¨Ø±Ø§ÛŒ ÙÛŒØ¯ Ø¨ÛŒÙ† Ú¯Ø±Ø§Ø¯ÛŒÙ†Øªâ€ŒÙ‡Ø§ -->
  <div id="bgLayer" class="bg-overlay" style="background:linear-gradient(120deg, rgba(255,120,120,0.12), rgba(120,180,255,0.18));"></div>
  <div id="bgNext" class="bg-overlay next" style="background:linear-gradient(120deg, rgba(0,0,0,0.0), rgba(0,0,0,0.0));"></div>

  <div class="wrap">

    <!-- Ø§Ù†ØªØ®Ø§Ø¨ ØªØ³Øª -->
    <div id="selectTest" class="card center">
      <h1>ØªØ³Øª Ø´Ø®ØµÛŒØª â€” Ú†Ù‡ Ø¬ÙˆØ± ØªØ³ØªÛŒ Ù…ÛŒâ€ŒØ®ÙˆØ§ÛŒØŸ</h1>
      <p class="small">Ù‡Ø± ØªØ³Øª Ø´Ø§Ù…Ù„ Û±Û° Ø³Ø¤Ø§Ù„ Ø§Ø³Øª â€” Ø¯Ø± Ù¾Ø§ÛŒØ§Ù† Ù†ØªÛŒØ¬Ù‡Ù” Ø¯Ù‚ÛŒÙ‚ Ùˆ Ú¯Ø±Ø§ÙÛŒÚ©ÛŒ Ù…ÛŒâ€ŒØ¨ÛŒÙ†ÛŒ.</p>

      <div class="test-grid" style="margin-top:12px">
        <button class="btn" onclick="startTest('gaming')">ğŸ® Ú¯ÛŒÙ…ÛŒÙ†Ú¯</button>
        <button class="btn" onclick="startTest('animal')">ğŸ¾ Ø­ÛŒÙˆØ§Ù†ÛŒ</button>
        <button class="btn" onclick="startTest('color')">ğŸ¨ Ø±Ù†Ú¯â€ŒÙ‡Ø§</button>
        <button class="btn" onclick="startTest('fun')">ğŸ¤£ ÙØ§Ù†</button>
      </div>

      <div style="margin-top:14px;display:flex;gap:8px">
        <button class="btn ghost smallBtn" onclick="loadLast()">ğŸ” Ù†ØªÛŒØ¬Ù‡Ù” Ù‚Ø¨Ù„ÛŒ</button>
        <button class="btn ghost smallBtn" onclick="showHow()">â„¹ï¸ Ø±Ø§Ù‡Ù†Ù…Ø§</button>
      </div>
    </div>

    <!-- Ú©Ø§Ø¯Ø± Ø¢Ø²Ù…ÙˆÙ† -->
    <div id="quizBox" class="card" style="display:none">
      <div style="display:flex;align-items:center;gap:10px;justify-content:space-between">
        <div style="display:flex;flex-direction:column;gap:8px">
          <div id="testTitle" style="font-weight:800"></div>
          <div class="small" id="testSub"></div>
        </div>
        <div style="width:40%">
          <div class="progressWrap" aria-hidden="true">
            <div id="progressFill" class="progressFill"></div>
          </div>
        </div>
      </div>

      <div id="questionArea" style="margin-top:16px">
        <div id="questionCard" class="anim-enter anim-enter-active">
          <div class="question" id="questionText"></div>
          <div class="options" id="optionsBox"></div>
        </div>
      </div>

      <div class="controls">
        <button class="smallBtn" onclick="goBack()">â¬…ï¸ Ø¨Ø§Ø²Ú¯Ø´Øª</button>
        <button class="smallBtn" onclick="skipQuestion()">â­ Ø±Ø¯ Ø³Ø¤Ø§Ù„</button>
      </div>
    </div>

    <!-- Ù†ØªÛŒØ¬Ù‡ -->
    <div id="resultBox" class="card" style="display:none">
      <div id="resultCard" class="resultCard" style="background:linear-gradient(90deg,#2b9cff,#6fe7c6)">
        <div class="resultTitle" id="resultTitle">ğŸ‰ Ù†ØªÛŒØ¬Ù‡</div>
        <div class="resultDesc" id="resultDesc"></div>
      </div>

      <div style="margin-top:12px;display:flex;gap:8px">
        <button class="btn" onclick="shareResult()">ğŸ“¤ Ú©Ù¾ÛŒ Ù†ØªÛŒØ¬Ù‡</button>
        <button class="btn ghost" onclick="resetAll()">ğŸ”„ Ø§Ù†Ø¬Ø§Ù… Ø¯ÙˆØ¨Ø§Ø±Ù‡</button>
      </div>

      <p class="small" style="margin-top:10px">Ù†ØªÛŒØ¬Ù‡ Ø¯Ø± Ù…Ø±ÙˆØ±Ú¯Ø± Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯ â€” Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒ Ø¨Ø¹Ø¯Ø§Ù‹ Ø¨Ø±Ú¯Ø±Ø¯ÛŒ Ùˆ Ø¨Ø¨ÛŒÙ†ÛŒ.</p>
    </div>

  </div>

<script>
/* ===========================
   Ø¯ÛŒØªØ§ÛŒ ØªØ³Øªâ€ŒÙ‡Ø§ (Û±Û° Ø³Ø¤Ø§Ù„ Ù‡Ø± Ú©Ø¯ÙˆÙ…)
   Ù‡Ø± Ú¯Ø²ÛŒÙ†Ù‡ ÛŒÚ© Ú©Ù„ÛŒØ¯ category Ù…ÛŒâ€ŒØ¯Ù‡Ø¯
   categories:
   - gaming: aggressive / strategic / speedy / creative
   - animal: cat / fox / wolf / lion
   - color: blue / red / green / yellow
   - fun: online / sleeper / foodie / survivor
   =========================== */

const tests = {
  gaming:{
    title:"ØªØ³Øª Ø´Ø®ØµÛŒØª Ú¯ÛŒÙ…ÛŒÙ†Ú¯",
    sub:"Ø¨Ø¨ÛŒÙ† Ú†Ù‡ Ù†ÙˆØ¹ Ù¾Ù„ÛŒØ±/Ú¯ÛŒÙ…Ø±ÛŒ Ù‡Ø³ØªÛŒ",
    categories:["aggressive","strategic","speedy","creative"],
    catNames:{
      aggressive:"Ù¾Ù„ÛŒØ± ØªÙ‡Ø§Ø¬Ù…ÛŒ ğŸ”¥",
      strategic:"Ù¾Ù„ÛŒØ± Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒÚ© ğŸ§ ",
      speedy:"Ù¾Ù„ÛŒØ± Ø³Ø±Ø¹ØªÛŒ âš¡",
      creative:"Ù¾Ù„ÛŒØ± Ø®Ù„Ø§Ù‚ ğŸ¨"
    },
    questions:[
      {q:"Ø¯Ø± Ù…Ø¨Ø§Ø±Ø²Ù‡Ù” 1v1 ØªÙˆ Ú†Ø·ÙˆØ± Ø¨Ø§Ø²ÛŒ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØŸ", a:[
        {t:"Ø­Ù…Ù„Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ù… Ùˆ Ø¬Ù„Ùˆ Ù…ÛŒØ±Ù…",c:"aggressive"},
        {t:"ØµØ¨Ø± Ù…ÛŒâ€ŒÚ©Ù†Ù… Ùˆ ÙØ±ØµØªâ€ŒØ·Ù„Ø¨ Ù…ÛŒâ€ŒØ´Ù…",c:"strategic"},
        {t:"Ø¨Ø§Ø²ÛŒ Ø³Ø±Ø¹ØªÛŒ Ùˆ Ù…Ú† Ù…ÛŒâ€ŒØ²Ù†Ù…",c:"speedy"},
        {t:"Ø­Ø±Ú©Øª ØºÛŒØ±Ù‚Ø§Ø¨Ù„â€ŒÙ¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ù…",c:"creative"}]},
      {q:"ÙˆÙ‚ØªÛŒ ØªÛŒÙ…ÛŒ Ø¨Ø§Ø²ÛŒ Ù…ÛŒâ€ŒÚ©Ù†ÛŒ Ù†Ù‚Ø´ Ù…ÙˆØ±Ø¯ Ø¹Ù„Ø§Ù‚Ù‡â€ŒØ§Øª Ú†ÛŒÙ‡ØŸ", a:[
        {t:"Ø¬Ù„ÙˆØŒ ØªØ§Ù¾ Ùˆ ÙØ´Ø§Ø±",c:"aggressive"},
        {t:"Ù¾Ù„Ù† Ù…ÛŒâ€ŒÚ†ÛŒÙ†Ù… Ùˆ Ù‡Ø¯Ø§ÛŒØª Ù…ÛŒâ€ŒÚ©Ù†Ù…",c:"strategic"},
        {t:"Ø§Ø³Ú©ÙˆØ§Ù†Øª Ùˆ ÙÙ„Ù†Ú© Ù…ÛŒâ€ŒÚ©Ù†Ù…",c:"speedy"},
        {t:"ØªØ¬Ø±Ø¨Ù‡Ù” Ø¹Ø¬ÛŒØ¨ Ùˆ ØºØ±ÛŒØ¨ Ù…ÛŒâ€ŒÚ©Ù†Ù…",c:"creative"}]},
      {q:"Ø¯Ø± Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ø±Ù‚Ø§Ø¨ØªÛŒ Ú†Ù‡ Ú†ÛŒØ²ÛŒ Ø¨Ø±Ø§Øª Ù…Ù‡Ù…â€ŒØªØ±Ù‡ØŸ", a:[
        {t:"ØºÙ„Ø¸Øª Ø§Ú©Ø´Ù† Ùˆ Ø¯Ø±Ú¯ÛŒØ±ÛŒ",c:"aggressive"},
        {t:"Ø¨Ø±Ø¯ Ø¨Ø§ Ú©Ù…ØªØ±ÛŒÙ† Ø§Ø´ØªØ¨Ø§Ù‡",c:"strategic"},
        {t:"Ø´Ú©Ø³ØªÙ† Ø±Ú©ÙˆØ±Ø¯ Ùˆ Ø³Ø±Ø¹Øª",c:"speedy"},
        {t:"Ø®Ù„Ø§Ù‚ÛŒØª ØªÙˆ Ø¨Ø§Ø²ÛŒâ€ŒÚ©Ø±Ø¯Ù†",c:"creative"}]},
      {q:"Ø¨Ø±Ø§ÛŒ ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ ÛŒÚ© Ø¨Ø§Ø²ÛŒ Ø¬Ø¯ÛŒØ¯ Ú†Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØŸ", a:[
        {t:"ÙÙ‚Ø· ÙˆØ§Ø±Ø¯ Ù…ÛŒâ€ŒØ´Ù… Ùˆ ØªØ¬Ø±Ø¨Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ù…",c:"aggressive"},
        {t:"Ø±Ø§Ù‡Ù†Ù…Ø§ Ù…ÛŒØ®ÙˆÙ†Ù… Ùˆ Ù…ØªØ¯ ÛŒØ§Ø¯ Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ù…",c:"strategic"},
        {t:"Ø¨Ø§ Ø±Ú©ÙˆØ±Ø¯Ø²Ù†ÛŒ Ùˆ ØªÙ…Ø±ÛŒÙ† Ø³Ø±ÛŒØ¹ ÛŒØ§Ø¯ Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ù…",c:"speedy"},
        {t:"ØªÚ©Ù†ÛŒÚ©â€ŒÙ‡Ø§Ù…Ùˆ Ù…Ù†Ø­ØµØ± Ø¨Ù‡ ÙØ±Ø¯ Ù…ÛŒâ€ŒÚ©Ù†Ù…",c:"creative"}]},
      {q:"Ø¯Ø± Ù…Ù‚Ø§Ø¨Ù„ Ø¨Ø§Ø®Øª ÙˆØ§Ú©Ù†Ø´Øª Ú†ÛŒÙ‡ØŸ", a:[
        {t:"ÙÙˆØ±Ø§Ù‹ Ù…ÛŒâ€ŒØ²Ù†Ù… Ø¬Ù„Ùˆ Ø¨Ø±Ø§ÛŒ Ø±ÛŒÙˆÙ†Ø¬",c:"aggressive"},
        {t:"Ù…ÛŒâ€ŒÙ†Ø´ÛŒÙ†Ù… ØªØ­Ù„ÛŒÙ„ Ù…ÛŒâ€ŒÚ©Ù†Ù…",c:"strategic"},
        {t:"Ø³Ø±ÛŒØ¹ Ø¨Ø§Ø²ÛŒ Ø¨Ø¹Ø¯ÛŒ Ø±Ùˆ Ù…ÛŒØ²Ù†Ù…",c:"speedy"},
        {t:"Ø±Ø§Ù‡ Ù…ØªÙØ§ÙˆØªÛŒ Ø§Ù…ØªØ­Ø§Ù† Ù…ÛŒâ€ŒÚ©Ù†Ù…",c:"creative"}]},
      {q:"Ø¯Ø± Ø§Ù†ØªØ®Ø§Ø¨ ÙˆØ³Ø§ÛŒÙ„/Ø§Ø³Ù„Ø­Ù‡ Ú†Ù‡ Ù…Ø¹ÛŒØ§Ø± Ø¯Ø§Ø±ÛŒØŸ", a:[
        {t:"Ù‚Ø¯Ø±Øª Ø®Ø§Ù… Ùˆ Ø®Ø³Ø§Ø±Øª Ø¨Ø§Ù„Ø§",c:"aggressive"},
        {t:"Ù‡Ù…Ø§Ù‡Ù†Ú¯ÛŒ Ø¨Ø§ Ù¾Ù„Ù† Ùˆ ØªÛŒÙ…",c:"strategic"},
        {t:"Ø³Ø±Ø¹Øª Ùˆ Ù…ÙˆØ¨Ø§ÛŒÙ„ Ø¨ÙˆØ¯Ù†",c:"speedy"},
        {t:"Ø¸Ø§Ù‡Ø± Ùˆ Ø§Ù…ØªÛŒØ§Ø²Ø§Øª ØºÛŒØ±Ù…Ø¹Ù…ÙˆÙ„",c:"creative"}]},
      {q:"Ø¯Ø± Ù…Ø³Ø§Ø¨Ù‚Ø§Øª Ø¢Ù†Ù„Ø§ÛŒÙ† ØªØ±Ø¬ÛŒØ­ Ù…ÛŒØ¯ÛŒ Ú†ÛŒ Ø¨Ø§Ø´ÛŒØŸ", a:[
        {t:"Ø¨Ø§Ø²ÛŒÚ©Ù† ÙØ´Ø§Ø±Ø¯Ù‡Ù†Ø¯Ù‡",c:"aggressive"},
        {t:"Ú©Ø§Ù¾ÛŒØªØ§Ù† ØªÛŒÙ…",c:"strategic"},
        {t:"Ø±Ù†Ú©â€ŒØ¨ÙˆØ³ØªØ± Ø³Ø±Ø¹ØªÛŒ",c:"speedy"},
        {t:"Ø¨Ø§Ø²ÛŒÚ©Ù† Ø®Ù„Ø§Ù‚ Ú©Ù‡ Ù‡Ù…Ù‡ Ø±Ùˆ ØºØ§ÙÙ„Ú¯ÛŒØ± Ù…ÛŒâ€ŒÚ©Ù†Ù‡",c:"creative"}]},
      {q:"Ú†Ù‡ Ù†ÙˆØ¹ ØªØ¬Ø±Ø¨Ù‡â€ŒØ§ÛŒ ØªÙˆ Ø¨Ø§Ø²ÛŒ Ø¯Ù†Ø¨Ø§Ù„ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØŸ", a:[
        {t:"Ø­Ø§Ø¯ Ùˆ Ø¯Ø±Ú¯ÛŒØ±ÛŒ Ø²ÛŒØ§Ø¯",c:"aggressive"},
        {t:"Ø¨Ø±Ø¯ Ù‡ÙˆØ´Ù…Ù†Ø¯Ø§Ù†Ù‡",c:"strategic"},
        {t:"Ø³Ø±Ø¹Øª Ùˆ Ø¢Ø¯Ø±Ù†Ø§Ù„ÛŒÙ†",c:"speedy"},
        {t:"Ø¢Ø²Ø§Ø¯ÛŒ Ø®Ù„Ø§Ù‚Ø§Ù†Ù‡",c:"creative"}]},
      {q:"ÙˆÙ‚ØªÛŒ ØªÛŒÙ… Ø¶Ø¹ÛŒÙÙ‡ ØªÙˆØŸ", a:[
        {t:"Ø®ÙˆØ¯Ù…Ùˆ Ù†Ø´ÙˆÙ† Ù…ÛŒØ¯Ù… Ùˆ ÙØ´Ø§Ø± Ù…ÛŒâ€ŒØ¯Ù…",c:"aggressive"},
        {t:"Ù¾Ù„Ù† Ù…ÛŒØ¯Ù… ØªØ§ Ú©Ù…Ø¨ÙˆØ¯Ù‡Ø§ Ø¬Ø¨Ø±Ø§Ù† Ø¨Ø´Ù‡",c:"strategic"},
        {t:"Ø³Ø±ÛŒØ¹ Ø¹Ù…Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ù… ØªØ§ Ø§ÙˆØ¶Ø§Ø¹ Ø±Ùˆ Ø¹ÙˆØ¶ Ú©Ù†Ù…",c:"speedy"},
        {t:"ØªØ¬Ø±Ø¨Ù‡Ù” Ø¬Ø¯ÛŒØ¯ Ø§Ù…ØªØ­Ø§Ù† Ù…ÛŒâ€ŒÚ©Ù†Ù…",c:"creative"}]},
      {q:"Ø¯Ø± Ø¨Ø§Ø²ÛŒâ€ŒØ³Ø§Ø²ÛŒ (Ú¯ÛŒÙ… Ø¯ÛŒØ²Ø§ÛŒÙ†) Ø¨ÛŒØ´ØªØ± Ø¨Ù‡ Ú†ÛŒ Ø¹Ù„Ø§Ù‚Ù‡ Ø¯Ø§Ø±ÛŒØŸ", a:[
        {t:"Ù…Ú©Ø§Ù†ÛŒÚ©â€Œ Ù‡ÛŒØ¬Ø§Ù†â€ŒØ§Ù†Ú¯ÛŒØ² Ùˆ Ø¬Ù†Ú¯ÛŒ",c:"aggressive"},
        {t:"Ø³ÛŒØ³ØªÙ…â€ŒÙ‡Ø§ÛŒ Ø¹Ù…ÛŒÙ‚ Ùˆ Ù…ØªØ¹Ø§Ø¯Ù„",c:"strategic"},
        {t:"Ù…Ú©Ø§Ù†ÛŒÚ©â€ŒÙ‡Ø§ÛŒ Ù¾ÙˆÛŒØ§ÛŒ Ø³Ø±Ø¹ØªÛŒ",c:"speedy"},
        {t:"Ø§ÛŒØ¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù†ÙˆØ¢ÙˆØ±Ø§Ù†Ù‡ Ùˆ Ù‡Ù†Ø±ÛŒ",c:"creative"}]},
    ]
  },

  animal:{
    title:"ØªØ³Øª Ø´Ø®ØµÛŒØª Ø­ÛŒÙˆØ§Ù†ÛŒ",
    sub:"Ú©Ø¯ÙˆÙ… Ø­ÛŒÙˆØ§Ù† Ø¨ÛŒØ´ØªØ±ÛŒÙ† Ø´Ø¨Ø§Ù‡Øª Ø¨Ù‡ Ø´Ø®ØµÛŒØª ØªÙˆ Ø¯Ø§Ø±Ù‡ØŸ",
    categories:["cat","fox","wolf","lion"],
    catNames:{
      cat:"ğŸ± Ú¯Ø±Ø¨Ù‡",
      fox:"ğŸ¦Š Ø±ÙˆØ¨Ø§Ù‡",
      wolf:"ğŸº Ú¯Ø±Ú¯",
      lion:"ğŸ¦ Ø´ÛŒØ±"
    },
    questions:[
      {q:"Ø¯Ø± Ø¬Ù…Ø¹ Ø¨ÛŒØ´ØªØ± Ú†Ø·ÙˆØ± Ø±ÙØªØ§Ø± Ù…ÛŒâ€ŒÚ©Ù†ÛŒØŸ", a:[
        {t:"Ø¢Ø±Ø§Ù… Ùˆ Ù…Ø±Ù…ÙˆØ²",c:"cat"},
        {t:"Ø²ÛŒØ±Ú© Ùˆ Ø¨Ø§Ù‡ÙˆØ´",c:"fox"},
        {t:"ÙˆÙØ§Ø¯Ø§Ø± Ùˆ Ù¾ÛŒÙˆØ³ØªÙ‡",c:"wolf"},
        {t:"Ø±Ù‡Ø¨Ø± Ùˆ Ù…Ù‚ØªØ¯Ø±",c:"lion"}]},
      {q:"ØªÙØ±ÛŒØ­ Ù…ÙˆØ±Ø¯ Ø¹Ù„Ø§Ù‚Ù‡â€ŒØ§Øª Ú†ÛŒÙ‡ØŸ", a:[
        {t:"Ø¢Ø±Ø§Ù…Ø´ Ùˆ Ù„Ù… Ø¯Ø§Ø¯Ù†",c:"cat"},
        {t:"Ú©Ø´Ù Ú©Ø±Ø¯Ù† Ú†ÛŒØ²Ù‡Ø§",c:"fox"},
        {t:"Ø¯ÙˆØ³ØªÛŒ Ùˆ Ø§Ø¬ØªÙ…Ø§Ø¹",c:"wolf"},
        {t:"Ú†Ø§Ù„Ø´ Ùˆ ØªØ³Ù„Ø·",c:"lion"}]},
      {q:"Ø¯Ø± Ù…ÙˆØ§Ø¬Ù‡Ù‡ Ø¨Ø§ Ø®Ø·Ø±ØŸ", a:[
        {t:"Ú©Ù…â€ŒÚ©Ø§Ø±ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ù… Ùˆ Ù…Ø±Ø§Ù‚Ø¨Ù…",c:"cat"},
        {t:"Ø®Ù„Ø§Ù‚Ø§Ù†Ù‡ ÙØ±Ø§Ø± ÛŒØ§ Ø­Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ù…",c:"fox"},
        {t:"Ú©Ù†Ø§Ø± Ú¯Ø±ÙˆÙ‡ Ù…ÛŒâ€ŒØ¬Ù†Ú¯Ù…",c:"wolf"},
        {t:"Ù…Ø³ØªÙ‚ÛŒÙ… Ù…Ù‚Ø§Ø¨Ù„Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ù…",c:"lion"}]},
      {q:"Ø¯ÙˆØ³ØªÛŒ Ø¨Ø±Ø§ÛŒ ØªÙˆ ÛŒØ¹Ù†ÛŒØŸ", a:[
        {t:"Ù‡Ù…Ø±Ø§Ù‡ÛŒ Ø¢Ø±Ø§Ù…",c:"cat"},
        {t:"Ù‡Ù…â€ŒÙ¾ÛŒÙ…Ø§Ù†ÛŒ Ø²ÛŒØ±Ú©",c:"fox"},
        {t:"ÙˆÙØ§Ø¯Ø§Ø±ÛŒ ØªØ§ Ø¢Ø®Ø±",c:"wolf"},
        {t:"Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ùˆ Ú†Ø´Ù… Ù‡Ù…â€ŒÚ†Ø´Ù…ÛŒ",c:"lion"}]},
      {q:"Ø¯Ø± ØªØµÙ…ÛŒÙ…â€ŒÚ¯ÛŒØ±ÛŒØŸ", a:[
        {t:"Ø§Ø­Ø³Ø§Ø³ÛŒ Ùˆ Ø¨Ø§ ÙØ§ØµÙ„Ù‡",c:"cat"},
        {t:"Ø¢Ù†Ø§Ù„ÛŒØ² Ùˆ Ù†Ø§Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ",c:"fox"},
        {t:"Ø¨Ø§ Ù…Ø´ÙˆØ±Øª Ú¯Ø±ÙˆÙ‡",c:"wolf"},
        {t:"Ù‚Ø§Ø·Ø¹ Ùˆ Ø³Ø±ÛŒØ¹",c:"lion"}]},
      {q:"Ø¯Ø± Ø®Ø§Ù†Ù‡ Ú†Ù‡â€ŒÚ©Ø§Ø±Ù‡â€ŒØ§ÛŒØŸ", a:[
        {t:"Ø¢Ø±Ø§Ù… Ùˆ Ø±Ø§Ø­Øª",c:"cat"},
        {t:"Ú©Ù†Ø¬Ú©Ø§Ùˆ Ùˆ Ø¨Ø§Ø²ÛŒÚ¯ÙˆØ´",c:"fox"},
        {t:"Ù…ØªÚ©ÛŒ Ùˆ Ù…Ø±Ø§Ù‚Ø¨",c:"wolf"},
        {t:"ØµØ§Ø­Ø¨â€ŒØ®Ø§Ù†Ù‡Ù” Ù‚Ø¯Ø±ØªÙ…Ù†Ø¯",c:"lion"}]},
      {q:"Ù‡Ù†Ú¯Ø§Ù… Ù…ÙˆÙÙ‚ÛŒØª Ú†Ù‡ ÙˆØ§Ú©Ù†Ø´ÛŒ Ø¯Ø§Ø±ÛŒØŸ", a:[
        {t:"Ø³Ú©ÙˆØª Ø´ÛŒØ±ÛŒÙ†",c:"cat"},
        {t:"Ø¨Ø§Ù‡ÙˆØ´Ø§Ù†Ù‡ Ø¬Ø´Ù† Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ù…",c:"fox"},
        {t:"Ø¨Ø§ ØªÛŒÙ… Ø®ÙˆØ´Ø­Ø§Ù„Ù…",c:"wolf"},
        {t:"Ø¨Ø§ ØºØ±ÙˆØ± Ø¬Ù„ÙˆÙ‡ Ù…ÛŒâ€ŒÚ©Ù†Ù…",c:"lion"}]},
      {q:"Ø¯Ø± Ø¨Ø±Ø§Ø¨Ø± ØªØºÛŒÛŒØ± Ú†Ø·ÙˆØ± Ù‡Ø³ØªÛŒØŸ", a:[
        {t:"Ø¢Ù‡Ø³ØªÙ‡ Ù‚Ø¨ÙˆÙ„ Ù…ÛŒâ€ŒÚ©Ù†Ù…",c:"cat"},
        {t:"Ø³Ø§Ø²Ú¯Ø§Ø± Ùˆ Ø³Ø±ÛŒØ¹",c:"fox"},
        {t:"Ø¨Ø§ Ø­Ù…Ø§ÛŒØª Ø¯ÛŒÚ¯Ø±Ø§Ù†",c:"wolf"},
        {t:"Ø®ÙˆØ´â€ŒØ¢Ù…Ø¯ÛŒØ¯ ØªØºÛŒÛŒØ±",c:"lion"}]},
      {q:"ØªØ¹Ø±ÛŒÙ Ø´Ø¬Ø§Ø¹Øª Ø§Ø² Ù†Ø¸Ø± ØªÙˆØŸ", a:[
        {t:"Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¨Ù‡ Ø®ÙˆØ¯",c:"cat"},
        {t:"Ù‡ÙˆØ´ Ùˆ ØªØ±ÙÙ†Ø¯",c:"fox"},
        {t:"Ù‡Ù…Ø±Ø§Ù‡ÛŒ Ùˆ Ø§ØªØ­Ø§Ø¯",c:"wolf"},
        {t:"Ø¯Ø³Øª Ø²Ø¯Ù† Ø¨Ù‡ Ø®Ø·Ø±",c:"lion"}]},
      {q:"Ú©Ø¯Ø§Ù… ÙˆÛŒÚ˜Ú¯ÛŒ Ø¨ÛŒØ´ØªØ± Ø¨Ù‡Øª Ù…ÛŒâ€ŒØ®ÙˆØ±Ù‡ØŸ", a:[
        {t:"Ø¨Ø§Ù‡ÙˆØ´ Ø¯Ø± Ø¹Ù‚Ø¨â€ŒÙ†Ø´ÛŒÙ†ÛŒ",c:"cat"},
        {t:"Ø²ÛŒØ±Ú©ÛŒ",c:"fox"},
        {t:"ÙˆÙØ§Ø¯Ø§Ø±ÛŒ",c:"wolf"},
        {t:"Ø±Ù‡Ø¨Ø±ÛŒ",c:"lion"}]},
    ]
  },

  color:{
    title:"ØªØ³Øª Ø´Ø®ØµÛŒØª Ø±Ù†Ú¯â€ŒÙ‡Ø§",
    sub:"Ø±Ù†Ú¯ ØªÙˆ Ú†Ù‡ Ú†ÛŒØ²Ù‡Ø§ÛŒÛŒ Ø±Ø§ Ù…ÛŒâ€ŒÚ¯ÙˆÛŒØ¯ØŸ",
    categories:["blue","red","green","yellow"],
    catNames:{
      blue:"Ø¢Ø¨ÛŒ â€” Ø¢Ø±Ø§Ù… Ùˆ Ù…Ù†Ø·Ù‚ÛŒ ğŸ’™",
      red:"Ù‚Ø±Ù…Ø² â€” Ù¾Ø± Ø§Ù†Ø±Ú˜ÛŒ â¤ï¸",
      green:"Ø³Ø¨Ø² â€” Ù…Ù‡Ø±Ø¨Ø§Ù† Ùˆ Ù¾Ø§ÛŒØ¯Ø§Ø± ğŸ’š",
      yellow:"Ø²Ø±Ø¯ â€” Ø®Ù„Ø§Ù‚ Ùˆ Ø®ÙˆØ´Ø­Ø§Ù„ ğŸ’›"
    },
    questions:[
      {q:"ÙˆÙ‚ØªÛŒ Ø§Ø³ØªØ±Ø³ÛŒØŒ Ú†Ù‡ Ú©Ø§Ø±ÛŒ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØŸ", a:[
        {t:"Ø¢Ø±Ø§Ù… Ù†ÙØ³ Ù…ÛŒâ€ŒÚ©Ø´Ù…",c:"blue"},
        {t:"ÙØ¹Ø§Ù„ Ù…ÛŒâ€ŒØ´Ù… Ùˆ Ø§Ù†Ø±Ú˜ÛŒ Ù…ÛŒâ€ŒØ°Ø§Ø±Ù…",c:"red"},
        {t:"Ø¨Ø­Ø« Ù…ÛŒâ€ŒÚ©Ù†Ù… ÛŒØ§ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ù…",c:"green"},
        {t:"ÛŒÙ‡ Ú†ÛŒØ²ÛŒ Ø·Ù†Ø²Ú¯ÙˆÙ†Ù‡ Ù…ÛŒâ€ŒØ³Ø§Ø²Ù…",c:"yellow"}]},
      {q:"Ø±ÙˆØ² ØªØ¹Ø·ÛŒÙ„ Ø§ÛŒØ¯Ù‡â€ŒØ¢Ù„ØŸ", a:[
        {t:"Ú©ØªØ§Ø¨ Ùˆ Ø¢Ø±Ø§Ù…Ø´",c:"blue"},
        {t:"ØªÙØ±ÛŒØ­Ø§Øª Ù‡ÛŒØ¬Ø§Ù†ÛŒ",c:"red"},
        {t:"Ù¾ÛŒÚ©â€ŒÙ†ÛŒÚ© Ø¨Ø§ Ø¯ÙˆØ³ØªØ§Ù†",c:"green"},
        {t:"Ù¾Ø±ÙˆÚ˜Ù‡Ù” Ø®Ù„Ø§Ù‚Ø§Ù†Ù‡",c:"yellow"}]},
      {q:"Ø¯Ø± Ù…ÙˆØ§Ø¬Ù‡Ù‡ Ø¨Ø§ Ù†Ø¸Ø± Ù…Ø®Ø§Ù„ÙØŸ", a:[
        {t:"Ø¨Ø§ Ù…Ù†Ø·Ù‚ Ø¬ÙˆØ§Ø¨ Ù…ÛŒØ¯Ù…",c:"blue"},
        {t:"Ø¯ÙØ§Ø¹ÛŒÙ‡ Ùˆ Ù¾Ø±Ø§Ø­Ø³Ø§Ø³ Ù…ÛŒâ€ŒØ´Ù…",c:"red"},
        {t:"Ù…ÛŒâ€ŒÚ©ÙˆØ´Ù… ØªÙØ§Ù‡Ù… Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†Ù…",c:"green"},
        {t:"Ù…ÙˆØ¶ÙˆØ¹ Ø±Ùˆ Ú©Ù…Ø±Ù†Ú¯ Ù…ÛŒâ€ŒÚ©Ù†Ù… Ø¨Ø§ Ø´ÙˆØ®ÛŒ",c:"yellow"}]},
      {q:"ÙˆÙ‚ØªÛŒ Ø®ÙˆØ´Ø­Ø§Ù„ÛŒ Ú†Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØŸ", a:[
        {t:"Ø¯Ø±ÙˆÙ†â€ŒÚ¯Ø±Ø§ÛŒØ§Ù†Ù‡ Ø´Ø§Ø¯ Ù…ÛŒâ€ŒØ´Ù…",c:"blue"},
        {t:"Ø³Ø± Ø¨Ù‡ ÙÙ„Ú© Ú©Ø´ÛŒØ¯Ù‡ Ø®ÙˆØ´Ø­Ø§Ù„Ù…",c:"red"},
        {t:"Ø¨Ø§ Ø¯ÛŒÚ¯Ø±Ø§Ù† Ø´Ø±ÛŒÚ© Ù…ÛŒâ€ŒØ´Ù…",c:"green"},
        {t:"Ø®Ù„Ø§Ù‚ÛŒØª Ù†Ø´ÙˆÙ† Ù…ÛŒØ¯Ù…",c:"yellow"}]},
      {q:"Ú©Ø¯Ø§Ù… ÙØ¹Ø§Ù„ÛŒØª ØªÙˆ Ø±Ø§ Ø±Ø§Ø¶ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŸ", a:[
        {t:"ØªØ­Ù‚ÛŒÙ‚ Ùˆ ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ",c:"blue"},
        {t:"Ú†Ø§Ù„Ø´ ÙÛŒØ²ÛŒÚ©ÛŒ",c:"red"},
        {t:"Ú©Ù…Ú© Ø¨Ù‡ Ø¯ÛŒÚ¯Ø±Ø§Ù†",c:"green"},
        {t:"Ø®Ù„Ù‚ Ø¢Ø«Ø§Ø± Ø¬Ø¯ÛŒØ¯",c:"yellow"}]},
      {q:"Ø§Ù†ØªØ®Ø§Ø¨ ØªØ¹Ø·ÛŒÙ„Ø§ØªØŸ", a:[
        {t:"Ø³ÙØ± Ø¢Ø±Ø§Ù… Ú©Ù†Ø§Ø± Ø¯Ø±ÛŒØ§",c:"blue"},
        {t:"Ø³ÙØ± Ù…Ø§Ø¬Ø±Ø§Ø¬ÙˆÛŒØ§Ù†Ù‡",c:"red"},
        {t:"Ø·Ø¨ÛŒØ¹Øª Ùˆ Ø¬Ù†Ú¯Ù„",c:"green"},
        {t:"ÛŒÚ© ØªÙˆØ± Ù‡Ù†Ø±ÛŒ",c:"yellow"}]},
      {q:"Ú†Ù‡ Ù‡Ø¯ÛŒÙ‡â€ŒØ§ÛŒ Ø¨Ù‡ØªØ±Ù‡ Ø¨Ø±Ø§ØªØŸ", a:[
        {t:"Ú†ÛŒØ²ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒ",c:"blue"},
        {t:"Ù‡ÛŒØ¬Ø§Ù†â€ŒØ§Ù†Ú¯ÛŒØ²",c:"red"},
        {t:"Ø·Ø¨ÛŒØ¹ÛŒ Ùˆ Ø³Ø§Ø¯Ù‡",c:"green"},
        {t:"Ø®Ù„Ø§Ù‚Ø§Ù†Ù‡ Ùˆ Ø¨Ø§Ù…Ø²Ù‡",c:"yellow"}]},
      {q:"Ø¯Ø± ØªÛŒÙ… Ù†Ù‚Ø´ ØªÙˆ Ú†ÛŒÙ‡ØŸ", a:[
        {t:"ØªØ­Ù„ÛŒÙ„â€ŒÚ¯Ø±",c:"blue"},
        {t:"Ù…ÙˆØªÙˆØ± Ø§Ù†Ø±Ú˜ÛŒ",c:"red"},
        {t:"Ù‡Ù…Ø§Ù‡Ù†Ú¯â€ŒÚ©Ù†Ù†Ø¯Ù‡",c:"green"},
        {t:"Ø§ÛŒØ¯Ù‡â€ŒÙ¾Ø±Ø¯Ø§Ø²",c:"yellow"}]},
      {q:"ÙØ§Ø±Øº Ø§Ø² Ø´Ø±Ø§ÛŒØ·ØŒ Ú©Ø¯ÙˆÙ… Ø¨Ø±Ø§Øª Ø¬Ø°Ø§Ø¨Ù‡ØŸ", a:[
        {t:"Ø«Ø¨Ø§Øª",c:"blue"},
        {t:"Ù‡ÛŒØ¬Ø§Ù†",c:"red"},
        {t:"Ù‡Ù…Ø§Ù‡Ù†Ú¯ÛŒ",c:"green"},
        {t:"Ù†ÙˆØ¢ÙˆØ±ÛŒ",c:"yellow"}]},
      {q:"Ø¯Ø± Ù¾Ø§ÛŒØ§Ù† Ø±ÙˆØ² Ú†Ù‡ Ø­Ø³ÛŒ Ù…ÛŒâ€ŒØ®ÙˆØ§ÛŒØŸ", a:[
        {t:"Ø¢Ø±Ø§Ù…Ø´",c:"blue"},
        {t:"Ø§Ù†Ú¯ÛŒØ²Ù‡â€ŒÙ…Ù†Ø¯",c:"red"},
        {t:"Ú¯Ø±Ù…Ø§ Ùˆ Ø¯ÙˆØ³ØªÛŒ",c:"green"},
        {t:"Ø´Ø§Ø¯ Ùˆ Ø§Ù„Ù‡Ø§Ù…â€ŒÚ¯Ø±ÙØªÙ‡",c:"yellow"}]},
    ]
  },

  fun:{
    title:"ØªØ³Øª Ø´Ø®ØµÛŒØª ÙØ§Ù†",
    sub:"Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ Ø¨Ø§Ù…Ø²Ù‡ Ùˆ Ù†ØªÛŒØ¬Ù‡â€ŒÙ‡Ø§ Ø®Ù†Ø¯Ù‡â€ŒØ¯Ø§Ø± Ù‡Ø³ØªÙ†Ø¯",
    categories:["online","sleeper","foodie","survivor"],
    catNames:{
      online:"Ø§Ù†Ø³Ø§Ù† Ø¢Ù†Ù„Ø§ÛŒÙ† ğŸ“±",
      sleeper:"Ù‚Ù‡Ø±Ù…Ø§Ù† Ø®ÙˆØ§Ø¨ ğŸ˜´",
      foodie:"Ø®ÙˆØ±Ø§Ú©ÛŒâ€ŒÙ¾Ø±Ø³Øª ğŸ¥£",
      survivor:"ÙÙ‚Ø· Ø²Ù†Ø¯Ù‡â€ŒØ§Ù… ğŸ˜‚"
    },
    questions:[
      {q:"Ø§ÙˆÙ„ÛŒÙ† Ú©Ø§Ø±ÛŒ Ú©Ù‡ ØµØ¨Ø­ Ù…ÛŒâ€ŒÚ©Ù†ÛŒ Ú†ÛŒÙ‡ØŸ", a:[
        {t:"Ú¯ÙˆØ´ÛŒ Ø±Ùˆ Ú†Ú© Ù…ÛŒâ€ŒÚ©Ù†Ù…",c:"online"},
        {t:"Ù†Ù…ÛŒâ€ŒØ®ÙˆØ§Ù… Ø¨ÛŒØ¯Ø§Ø± Ø´Ù…",c:"sleeper"},
        {t:"ØµØ¨Ø­ÙˆÙ†Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ±Ù…",c:"foodie"},
        {t:"ÙÙ‚Ø· ØªÙ„Ø§Ø´ Ù…ÛŒâ€ŒÚ©Ù†Ù… Ø§Ø² ØªØ®Øª Ø¨Ù„Ù†Ø¯ Ø´Ù…",c:"survivor"}]},
      {q:"Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ Ù…ÙˆØ±Ø¯ Ø¹Ù„Ø§Ù‚Ù‡ØŸ", a:[
        {t:"Ù‚Ù‡ÙˆÙ‡ Ùˆ Ù†ÙˆØªÛŒÙÛŒÚ©ÛŒØ´Ù†",c:"online"},
        {t:"Ù‡Ø±Ú†ÛŒØ²ÛŒ Ú©Ù‡ Ø®ÙˆØ§Ø¨Ù…Ùˆ ØªØ¶Ù…ÛŒÙ† Ú©Ù†Ù‡",c:"sleeper"},
        {t:"Ø´ÛŒØ±ÛŒÙ†ÛŒ Ùˆ Ø¯Ø³Ø±",c:"foodie"},
        {t:"Ù‡Ø± Ú†ÛŒØ²ÛŒ Ú©Ù‡ Ø³Ø±ÛŒØ¹ Ø¢Ù…Ø§Ø¯Ù‡ Ø¨Ø´Ù‡",c:"survivor"}]},
      {q:"Ø¨Ø±Ø§ÛŒ Ø¨ÛŒØ±ÙˆÙ† Ø±ÙØªÙ† Ø§ÙˆÙ„ Ú†ÛŒ Ù…ÛŒâ€ŒÙ¾ÙˆØ´ÛŒØŸ", a:[
        {t:"Ù„Ø¨Ø§Ø³ Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø±Ø§ÛŒ Ø¹Ú©Ø³ Ú¯Ø±ÙØªÙ†",c:"online"},
        {t:"Ù‡Ø±Ú†ÛŒ Ø±Ø§Ø­Øª Ø¨Ø§Ø´Ù‡",c:"sleeper"},
        {t:"ØªÙ…ÛŒØ² Ùˆ Ø®ÙˆØ´Ø¨Ùˆ",c:"foodie"},
        {t:"Ø±Ø§Ø­Øª Ùˆ Ø²ÙˆØ¯â€ŒÙ¾ÙˆØ´",c:"survivor"}]},
      {q:"ØªÙØ±ÛŒØ­ Ø¢Ø®Ø± Ù‡ÙØªÙ‡ØŸ", a:[
        {t:"ÙˆØ¨Ú¯Ø±Ø¯ÛŒ Ùˆ Ú¯Ø´Øªâ€ŒÙˆÚ¯Ø°Ø§Ø±",c:"online"},
        {t:"Ø®ÙˆØ§Ø¨ Ø·ÙˆÙ„Ø§Ù†ÛŒ",c:"sleeper"},
        {t:"Ø®ÙˆØ±Ø¯Ù† ÙØ³Øªâ€ŒÙÙˆØ¯Ù‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù",c:"foodie"},
        {t:"ÛŒÚ© Ù…Ø§Ø¬Ø±Ø§Ø¬ÙˆÛŒÛŒ Ø³Ø§Ø¯Ù‡",c:"survivor"}]},
      {q:"ÙˆÙ‚ØªÛŒ Ú¯Ø±Ø³Ù†Ù‡ Ù…ÛŒâ€ŒØ´ÛŒØŸ", a:[
        {t:"Ø¨Ù‡ Ø¯Ù†Ø¨Ø§Ù„ Ø¹Ú©Ø³â€ŒÙ‡Ø§ÛŒ ØºØ°Ø§ Ø¯Ø± Ø§ÛŒÙ†Ø³ØªØ§",c:"online"},
        {t:"Ù†Ù…ÛŒâ€ŒÙÙ‡Ù…Ù… Ú©ÛŒ Ú¯Ø±Ø³Ù†Ù‡ Ø´Ø¯Ù…",c:"sleeper"},
        {t:"Ù¾Ù„Ø§Ù† ØºØ°Ø§ ØªÙ‡ÛŒÙ‡ Ù…ÛŒâ€ŒÚ©Ù†Ù…",c:"foodie"},
        {t:"Ù‡Ø± Ú†ÛŒ Ø¯Ù… Ø¯Ø³Øª Ø¨Ø§Ø´Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ±Ù…",c:"survivor"}]},
      {q:"Ø¯Ø± Ø¬Ù…Ø¹ Ø­Ø±Ù Ø§ÙˆÙ„ Ø±Ùˆ Ù…ÛŒâ€ŒØ²Ù†ÛŒØŸ", a:[
        {t:"Ø¨Ø§ Ø§Ø³ØªÙˆØ±ÛŒ Ùˆ Ù…Ø­ØªÙˆØ§",c:"online"},
        {t:"Ù†ÛŒÙ…â€ŒØ®ÙˆØ§Ø¨ Ùˆ Ú¯ÙˆØ´Ù‡â€ŒÚ¯ÛŒØ±",c:"sleeper"},
        {t:"Ø¯Ø± Ù…ÙˆØ±Ø¯ ØºØ°Ø§Ù‡Ø§ Ø­Ø±Ù Ù…ÛŒâ€ŒØ²Ù†Ù…",c:"foodie"},
        {t:"ØµØ±ÙØ§Ù‹ Ø­Ø¶ÙˆØ± Ø¯Ø§Ø±Ù…",c:"survivor"}]},
      {q:"ÙˆØ§Ú©Ù†Ø´Øª Ø¨Ù‡ Ø´ÙˆØ®ÛŒØŸ", a:[
        {t:"Ù…ÛŒÙ… Ù…ÛŒâ€ŒÙØ±Ø³ØªÙ…",c:"online"},
        {t:"Ù…Ù…Ú©Ù†Ù‡ Ù†Ø®Ù†Ø¯Ù… Ùˆ Ø®ÙˆØ§Ø¨Ù… Ø¨Ø¨Ø±Ù‡",c:"sleeper"},
        {t:"Ø¨Ø§ ØºØ°Ø§ Ø¬Ø§ÛŒØ²Ù‡ Ù…ÛŒØ¯Ù…",c:"foodie"},
        {t:"Ù„Ù‚Ø¨ Ø¬Ø¯ÛŒØ¯ Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ù…",c:"survivor"}]},
      {q:"Ø´Ø¨ Ù‚Ø¨Ù„ Ø§Ø² Ø®ÙˆØ§Ø¨ØŸ", a:[
        {t:"ØªØ§ Ø¯ÛŒØ±ÙˆÙ‚Øª Ø¢Ù†Ù„Ø§ÛŒÙ†Ù…",c:"online"},
        {t:"Ø²ÙˆØ¯ Ù…ÛŒâ€ŒØ®ÙˆØ§Ø¨Ù…",c:"sleeper"},
        {t:"Ø¨Ø±Ù†Ø§Ù…Ù‡Ù” ØºØ°Ø§ÛŒÛŒ ÙØ±Ø¯Ø§ Ø±Ùˆ Ú†Ú© Ù…ÛŒâ€ŒÚ©Ù†Ù…",c:"foodie"},
        {t:"ÙÙ‚Ø· Ø§Ù…ÛŒØ¯ÙˆØ§Ø±Ù… ÙØ±Ø¯Ø§ Ø¨Ù‡ØªØ± Ø¨Ø§Ø´Ù‡",c:"survivor"}]},
      {q:"Ø§Ø³ØªØ±Ø³ Ú†Ø¬ÙˆØ±ÛŒ Ø±ÙØ¹ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØŸ", a:[
        {t:"Ú†ÙÚ© Ú©Ø±Ø¯Ù† ÙÛŒØ¯Ù‡Ø§",c:"online"},
        {t:"Ú†Ø±Øª Ú©ÙˆØªØ§Ù‡",c:"sleeper"},
        {t:"ÛŒÚ© ÙˆØ¹Ø¯Ù‡ Ø®ÙˆØ¨",c:"foodie"},
        {t:"Ø®Ù„Ø§ØµÙ‡ Ùˆ Ø³Ø±ÛŒØ¹ Ø§Ø²Ø´ Ù…ÛŒâ€ŒÚ¯Ø°Ø±Ù…",c:"survivor"}]},
      {q:"ÙˆÙ‚ØªÛŒ Ú©Ø³ÛŒ Ù…ÛŒâ€ŒÙ¾Ø±Ø³Ù‡ Ø±ÙˆØ­ÛŒØ§ØªØª Ú†ÛŒÙ‡ØŸ", a:[
        {t:"Ø­Ø§Ø¶Ø± Ø¨Ù‡ Ø§Ø´ØªØ±Ø§Ú© Ú¯Ø°Ø§Ø±ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ†",c:"online"},
        {t:"Ø¨Ù‡ Ø®ÙˆØ§Ø¨ ÙÚ©Ø± Ù…ÛŒâ€ŒÚ©Ù†Ù…",c:"sleeper"},
        {t:"Ø¨Ù‡ ØºØ°Ø§ ÙÚ©Ø± Ù…ÛŒâ€ŒÚ©Ù†Ù…",c:"foodie"},
        {t:"ÙÙ‚Ø· Ù…ÛŒâ€ŒØ®ÙˆØ§Ù… Ø²Ù†Ø¯Ù‡ Ø¨Ù…ÙˆÙ†Ù…",c:"survivor"}]},
    ]
  }
};

/* ===== ÙˆØ¶Ø¹ÛŒØª Ø¬Ø§Ø±ÛŒ ===== */
let currentTestKey = null;
let currentIndex = 0;
let answers = []; // array of category keys
let scores = {}; // tally
let currentGradient = ''; // Ù†Ú¯Ù‡Ø¯Ø§Ø±Ù†Ø¯Ù‡Ù” Ú¯Ø±Ø§Ø¯ÛŒÙ†Øª ÙØ¹Ù„ÛŒ

/* ============ helper: gradient palettes Ø¨Ø±Ø§ÛŒ Ù‡Ø± ØªØ³Øª Ùˆ Ø¨ÛŒÙ† Ø³ÙˆØ§Ù„â€ŒÙ‡Ø§ =========== */
const gradientPalettes = {
  gaming:[ ['#0f2027','#203a43','#2c5364'], ['#1f4037','#99f2c8'], ['#232526','#414345'], ['#4b6cb7','#182848'] ],
  animal:[ ['#f7b733','#fc4a1a'], ['#00b09b','#96c93d'], ['#6441a5','#2a0845'], ['#c0c0aa','#1cefff'] ],
  color:[ ['#2193b0','#6dd5ed'], ['#ee9ca7','#ffdde1'], ['#43e97b','#38f9d7'], ['#f7971e','#ffd200'] ],
  fun:[ ['#ff9a9e','#fad0c4'], ['#a18cd1','#fbc2eb'], ['#fbc2eb','#a6c1ee'], ['#fddb92','#d1fdff'] ],
  misc:[ ['#a18cd1','#fbc2eb'], ['#89f7fe','#66a6ff'], ['#ff9a9e','#fecfef'], ['#f6d365','#fda085'] ]
};

function randPalette(key){
  const arr = gradientPalettes[key] || gradientPalettes.misc;
  return arr[Math.floor(Math.random()*arr.length)];
}

/* ============ UI functions ============ */

function startTest(key){
  currentTestKey = key;
  currentIndex = 0;
  answers = [];
  scores = {};
  const test = tests[key];
  document.getElementById('selectTest').style.display='none';
  document.getElementById('resultBox').style.display='none';
  document.getElementById('quizBox').style.display='block';
  document.getElementById('testTitle').textContent = test.title;
  document.getElementById('testSub').textContent = test.sub;
  // set an initial background gradient relevant to test
  changeBackgroundSmooth(randPalette(key));
  showQuestion(0);
  updateProgress();
}

function showQuestion(i){
  const test = tests[currentTestKey];
  const q = test.questions[i];
  const qText = document.getElementById('questionText');
  const optsBox = document.getElementById('optionsBox');

  // animate question swap
  const qc = document.getElementById('questionCard');
  qc.className='anim-leave anim-leave-active';
  setTimeout(()=>{ // after leave
    qText.textContent = q.q;
    optsBox.innerHTML='';
    q.a.forEach((opt, idx)=>{
      const d = document.createElement('div');
      d.className='option';
      d.tabIndex = 0;
      d.textContent = opt.t;
      d.onclick = ()=>selectOption(opt.c, d);
      d.onkeypress = (e)=>{ if(e.key==='Enter') selectOption(opt.c,d) };
      optsBox.appendChild(d);
    });
    qc.className='anim-enter anim-enter-active';
    // change background palette for this question (gentle fade)
    changeBackgroundSmooth(randPalette(currentTestKey));
  }, 220);
}

function selectOption(cat, elem){
  // mark selection visually briefly
  const opts = document.querySelectorAll('.option');
  opts.forEach(x=>x.classList.remove('selected'));
  elem.classList.add('selected');

  // store answer & update scores
  answers[currentIndex] = cat;
  // tally immediately (we'll recalc on showResult)
  incrementScore(cat);

  // small delay Ø¨Ø±Ø§ÛŒ Ø¯ÛŒØ¯Ù† Ø§ÙÚ©ØªØŒ Ø³Ù¾Ø³ Ø±ÙØªÙ† Ø¨Ù‡ Ø³ÙˆØ§Ù„ Ø¨Ø¹Ø¯
  setTimeout(()=>{
    currentIndex++;
    updateProgress();
    if(currentIndex < tests[currentTestKey].questions.length){
      showQuestion(currentIndex);
    } else {
      showResult();
    }
  }, 420);
}

function incrementScore(cat){
  if(!scores[cat]) scores[cat]=0;
  scores[cat]++;
}

function updateProgress(){
  const total = tests[currentTestKey].questions.length;
  const percent = Math.round((currentIndex/total)*100);
  document.getElementById('progressFill').style.width = percent + '%';
}

/* back & skip */
function goBack(){
  if(currentIndex===0){
    // show selection
    resetAll();
    return;
  }
  // remove last answer
  currentIndex = Math.max(0, currentIndex-1);
  const last = answers[currentIndex];
  if(last){
    scores[last] = Math.max(0, (scores[last]||0)-1);
    answers[currentIndex]=null;
  }
  updateProgress();
  showQuestion(currentIndex);
}

function skipQuestion(){
  // skip without answering (counts as none)
  currentIndex++;
  updateProgress();
  if(currentIndex < tests[currentTestKey].questions.length){
    showQuestion(currentIndex);
  } else showResult();
}

/* ============ Ù†ØªÛŒØ¬Ù‡â€ŒÚ¯ÛŒØ±ÛŒ Ùˆ Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø± localStorage ============ */
function showResult(){
  // ensure progress shows 100%
  document.getElementById('progressFill').style.width = '100%';
  // compute top category
  const test = tests[currentTestKey];
  // if scores empty (all skipped) pick random
  if(Object.keys(scores).length===0){
    // random pick from categories
    const arr = test.categories;
    const pick = arr[Math.floor(Math.random()*arr.length)];
    scores[pick] = 1;
  }
  // find max score
  let maxScore = -1;
  let winners = [];
  for(const k of test.categories){
    const s = scores[k] || 0;
    if(s > maxScore){ maxScore = s; winners=[k]; }
    else if(s === maxScore){ winners.push(k); }
  }
  // tie-breaker: random among winners
  const finalKey = winners[Math.floor(Math.random()*winners.length)];
  const title = (test.catNames && test.catNames[finalKey]) ? test.catNames[finalKey] : finalKey;
  // description generation (custom messages)
  const desc = generateDescription(currentTestKey, finalKey, maxScore);

  // style the result card with a palette based on finalKey
  const palette = randPalette(currentTestKey);
  const g = `linear-gradient(90deg, ${palette[0]}, ${palette[1] || palette[0]})`;
  const rCard = document.getElementById('resultCard');
  rCard.style.background = g;

  document.getElementById('resultTitle').textContent = title;
  document.getElementById('resultDesc').textContent = desc;

  // hide quiz, show result
  document.getElementById('quizBox').style.display='none';
  document.getElementById('resultBox').style.display='block';

  // save to localStorage
  const entry = {
    test: currentTestKey,
    resultKey: finalKey,
    resultTitle: title,
    desc,
    timestamp: new Date().toISOString(),
    scores
  };
  try{
    const prev = JSON.parse(localStorage.getItem('p_test_results')||'[]');
    prev.unshift(entry);
    localStorage.setItem('p_test_results', JSON.stringify(prev.slice(0,20)));
  }catch(e){
    console.warn('localStorage issue',e);
  }
}

/* generate human description based on test and key */
function generateDescription(testKey, key, score){
  const t = tests[testKey];
  // friendly messages per category
  const map = {
    gaming:{
      aggressive:"ØªÙˆ Ø§Ù‡Ù„ Ø±ÛŒØ³Ú© Ùˆ ÙØ´Ø§Ø± Ø¢ÙˆØ±Ø¯Ù†ÛŒ â€” Ø®ÛŒÙ„ÛŒ Ø®ÙˆØ¨Ù‡ Ú©Ù‡ Ø§Ú©Ø´Ù† Ø±Ùˆ Ø¯ÙˆØ³Øª Ø¯Ø§Ø±ÛŒ. ØªÙˆ Ù…Ø¹Ù…ÙˆÙ„Ø§Ù‹ Ø±Ù‡Ø¨Ø± Ø­Ù…Ù„Ù‡â€ŒØ§ÛŒ ØªÛŒÙ…ÛŒ Ù…ÛŒâ€ŒØ´ÛŒ.",
      strategic:"ØªÙˆ Ù¾Ù„ÛŒØ± Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒÚ© Ù‡Ø³ØªÛŒØ› ÙÚ©Ø± Ù…ÛŒâ€ŒÚ©Ù†ÛŒ Ø¬Ù„ÙˆØªØ± Ùˆ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒØ±ÛŒØ²ÛŒâ€ŒØªØ±ÛŒ. ØªÛŒÙ…â€ŒÙ‡Ø§ Ø¨Ù‡ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ‡Ø§Øª Ø§Ø¹ØªÙ…Ø§Ø¯ Ù…ÛŒâ€ŒÚ©Ù†Ù†.",
      speedy:"Ø³Ø±Ø¹Øª Ø¨Ø§ ØªÙˆØ³ØªØ› ÙˆØ§Ú©Ù†Ø´â€ŒÙ‡Ø§Øª Ø³Ø±ÛŒØ¹ Ùˆ ØªØµÙ…ÛŒÙ…â€ŒÚ¯ÛŒØ±ÛŒ Ø¢Ù†ÛŒâ€ŒØ§Øª Ø¹Ø§Ù„ÛŒÙ‡. Ø±Ú©ÙˆØ±Ø¯ Ùˆ Ø²Ù…Ø§Ù†â€ŒØ¨Ù†Ø¯ÛŒ Ø¯Ø³Øª ØªÙˆØ¹Ù‡.",
      creative:"Ø®Ù„Ø§Ù‚ Ùˆ ØºÛŒØ±Ù‚Ø§Ø¨Ù„â€ŒÙ¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒâ€ŒØ§ÛŒ â€” Ù‡Ù…ÛŒØ´Ù‡ Ø±Ø§Ù‡â€ŒØ­Ù„â€ŒÙ‡Ø§ÛŒ Ù†ÙˆØ¢ÙˆØ± Ù¾ÛŒØ¯Ø§ Ù…ÛŒâ€ŒÚ©Ù†ÛŒ."
    },
    animal:{
      cat:"ØªÙˆ ÛŒÚ© Ú¯Ø±Ø¨Ù‡Ù” Ø¨Ø§ÙˆÙ‚Ø§Ø± Ù‡Ø³ØªÛŒ â€” Ù…Ø³ØªÙ‚Ù„ØŒ Ø¢Ø±Ø§Ù… Ùˆ Ù…Ø±Ù…ÙˆØ².",
      fox:"Ø±ÙˆØ¨Ø§Ù‡ Ø²ÛŒØ±Ú©Ù‡Ø› Ø§Ù‡Ù„ ØªØ±ÙÙ†Ø¯ Ùˆ Ø§ÛŒØ¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯Ø§Ù†Ù‡â€ŒØ§ÛŒ.",
      wolf:"Ú¯Ø±Ú¯ ÙˆÙØ§Ø¯Ø§Ø±ÛŒØ› Ù‡Ù…Ø±Ø§Ù‡ Ú¯Ø±ÙˆÙ‡ Ø¨ÙˆØ¯Ù† Ùˆ Ù…Ø­Ø§ÙØ¸Øª Ø¨Ø±Ø§Øª Ù…Ù‡Ù…Ù‡.",
      lion:"Ø´ÛŒØ± Ù…Ù‚ØªØ¯Ø±ÛŒØ› ØªÙˆØ§Ù† Ø±Ù‡Ø¨Ø±ÛŒ Ùˆ Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¨Ù‡ Ù†ÙØ³ Ø¨Ø§Ù„Ø§ÛŒÛŒ Ø¯Ø§Ø±ÛŒ."
    },
    color:{
      blue:"Ø¢Ø±Ø§Ù… Ùˆ Ù…Ù†Ø·Ù‚ÛŒ. ØªÙˆ Ø¯ÙˆØ³Øª Ø¯Ø§Ø±ÛŒ Ø¨Ø§ Ø«Ø¨Ø§Øª Ø¨Ø§Ø´ÛŒ Ùˆ ØªØµÙ…ÛŒÙ…â€ŒÙ‡Ø§ Ø±Ùˆ Ø¨Ø§ ØªØ­Ù„ÛŒÙ„ Ø¨Ú¯ÛŒØ±ÛŒ.",
      red:"Ù¾Ø±Ø§Ù†Ø±Ú˜ÛŒ Ùˆ Ø´Ø¬Ø§Ø¹. Ø¯ÙˆØ³Øª Ø¯Ø§Ø±ÛŒ Ø¯Ø± Ù…Ø±Ú©Ø² ØªÙˆØ¬Ù‡ Ø¨Ø§Ø´ÛŒ Ùˆ Ù‡ÛŒØ¬Ø§Ù† Ø±Ùˆ ØªØ¬Ø±Ø¨Ù‡ Ú©Ù†ÛŒ.",
      green:"Ù…Ù‡Ø±Ø¨Ø§Ù† Ùˆ Ø­Ù…Ø§ÛŒØªÚ¯Ø±. Ø¢Ø±Ø§Ù…Ø´ Ùˆ Ù¾Ø§ÛŒØ¯Ø§Ø±ÛŒ ØªÙˆ Ø´Ø®ØµÛŒØªÛŒâ€ŒØªÙ‡.",
      yellow:"Ø®Ù„Ø§Ù‚ Ùˆ Ø´Ø§Ø¯. Ø§Ù†Ø±Ú˜ÛŒ Ù…Ø«Ø¨Øª Ùˆ Ø§ÛŒØ¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¨Ú©Ø± Ø§Ø² ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ØªÙ†."
    },
    fun:{
      online:"ØªÙˆ ÛŒÚ© Ø§Ù†Ø³Ø§Ù† Ø¢Ù†Ù„Ø§ÛŒÙ† Ù‡Ø³ØªÛŒ â€” Ù‡Ù…ÛŒØ´Ù‡ Ø¢Ù¾Ø¯ÛŒØª Ùˆ Ø¯Ù†Ø¨Ø§Ù„ Ù…Ø­ØªÙˆØ§!",
      sleeper:"Ù‚Ù‡Ø±Ù…Ø§Ù† Ø®ÙˆØ§Ø¨! Ø§Ø³ØªØ±Ø§Ø­Øª Ø¬Ø²Ø¦ÛŒ Ø§Ø² Ù‡ÙˆÛŒØªØªÙ‡.",
      foodie:"Ø®ÙˆØ±Ø§Ú©ÛŒâ€ŒÙ¾Ø±Ø³Øª Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ â€” ØºØ°Ø§Ù‡Ø§ Ù…Ø¹Ù†Ø§ÛŒ Ø²Ù†Ø¯Ú¯ÛŒâ€ŒØ§Øª Ø±Ùˆ Ø¹ÙˆØ¶ Ù…ÛŒâ€ŒÚ©Ù†Ù†.",
      survivor:"ÙÙ‚Ø· Ø²Ù†Ø¯Ù‡â€ŒØ§Ù… â€” Ø³Ø§Ø¯Ù‡ØŒ Ú†Ø§Ø¨Ú© Ùˆ Ø¹Ù…Ù„â€ŒÚ¯Ø±Ø§."
    }
  };

  const base = (map[testKey] && map[testKey][key]) ? map[testKey][key] : 'ØªÙˆ Ø´Ø®ØµÛŒØªÛŒ Ù…Ù†Ø­ØµØ±Ø¨Ù‡â€ŒÙØ±Ø¯ Ø¯Ø§Ø±ÛŒ!';
  return `${base} (${score} Ø§Ù…ØªÛŒØ§Ø² Ø§Ø² Ø§Ù†ØªØ®Ø§Ø¨â€ŒÙ‡Ø§).`;
}

/* share result â€” Ú©Ù¾ÛŒ Ù…ØªÙ† Ø¯Ø± Ú©Ù„ÛŒÙ¾â€ŒØ¨ÙˆØ±Ø¯ */
function shareResult(){
  const title = document.getElementById('resultTitle').textContent;
  const desc = document.getElementById('resultDesc').textContent;
  const txt = `Ù†ØªÛŒØ¬Ù‡Ù” ØªØ³Øª: ${title}\n${desc}\nØ¨Ø§ Ø§Ù¾ ØªØ³Øª Ø´Ø®ØµÛŒØª.`;
  navigator.clipboard?.writeText(txt).then(()=>{
    alert('Ù†ØªÛŒØ¬Ù‡ Ú©Ù¾ÛŒ Ø´Ø¯ â€” Ø§Ù„Ø§Ù† Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒ Ø¯Ø± Ú†Øª ÛŒØ§ Ø§Ø³ØªÙˆØ±ÛŒ Ø¨Ú†Ø³Ø¨ÙˆÙ†ÛŒ!');
  }).catch(()=>{ alert('Ú©Ù¾ÛŒ Ù…ÙˆÙÙ‚ Ù†Ø¨ÙˆØ¯Ø› Ù„Ø·ÙØ§Ù‹ Ø¯Ø³ØªÛŒ Ú©Ù¾ÛŒ Ú©Ù†.') });
}

/* reset */
function resetAll(){
  currentTestKey = null;
  currentIndex = 0;
  answers = [];
  scores = {};
  document.getElementById('quizBox').style.display='none';
  document.getElementById('resultBox').style.display='none';
  document.getElementById('selectTest').style.display='block';
  // reset background to smooth palette
  changeBackgroundSmooth(randPalette('misc'));
}

/* load last result from localStorage */
function loadLast(){
  const prev = JSON.parse(localStorage.getItem('p_test_results')||'[]');
  if(!prev || prev.length===0){ alert('Ù†ØªÛŒØ¬Ù‡â€ŒØ§ÛŒ Ø¯Ø± Ø­Ø§ÙØ¸Ù‡Ù” Ù…Ø±ÙˆØ±Ú¯Ø± ÛŒØ§ÙØª Ù†Ø´Ø¯.'); return; }
  const last = prev[0];
  // set UI to show last result
  currentTestKey = last.test;
  document.getElementById('selectTest').style.display='none';
  document.getElementById('quizBox').style.display='none';
  document.getElementById('resultBox').style.display='block';
  document.getElementById('resultTitle').textContent = last.resultTitle;
  document.getElementById('resultDesc').textContent = last.desc;
  // style
  const palette = randPalette(last.test);
  document.getElementById('resultCard').style.background = `linear-gradient(90deg, ${palette[0]}, ${palette[1]||palette[0]})`;
  // adjust background a bit
  changeBackgroundSmooth(randPalette(last.test));
}

/* show small help */
function showHow(){
  alert('Ø±Ø§Ù‡Ù†Ù…Ø§:\n- Ù‡Ø± ØªØ³Øª 10 Ø³ÙˆØ§Ù„ Ø¯Ø§Ø±Ø¯.\n- Ù¾Ø³ Ø§Ø² Ø§Ù†ØªØ®Ø§Ø¨ Ú¯Ø²ÛŒÙ†Ù‡ØŒ Ø¨Ù‡ Ø³ÙˆØ§Ù„ Ø¨Ø¹Ø¯ Ù…ÛŒâ€ŒØ±ÙˆÛŒ.\n- Ù†ØªÛŒØ¬Ù‡ Ø¯Ø± Ù…Ø±ÙˆØ±Ú¯Ø± Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.\n- Ù‡Ø± Ú¯ÙˆÙ†Ù‡ Ú©Ù¾ÛŒ Ø¨Ø±Ø¯Ø§Ø±ÛŒ Ù¾ÛŒÚ¯Ø±Ø¯ Ù‚Ø§Ù†ÙˆÙ†ÛŒ Ø¯Ø§Ø±Ø¯.');
}

/* ============ Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡: ØªØºÛŒÛŒØ± Ù†Ø±Ù… Ø¨ÛŒÙ† Ú¯Ø±Ø§Ø¯ÛŒÙ†Øªâ€ŒÙ‡Ø§ ============ */
/* Ù…Ú©Ø§Ù†ÛŒØ²Ù…: bgLayer Ù†Ù…Ø§ÛŒØ´Ú¯Ø± ÙØ¹Ù„ÛŒØ› bgNext Ù†Ù…Ø§ÛŒØ´â€ŒØ¯Ù‡Ù†Ø¯Ù‡Ù” Ø¨Ø¹Ø¯ÛŒ Ø¨Ø§ opacity Ø§Ø² 0->1Ø› Ø³Ù¾Ø³ swap */
const bgLayer = document.getElementById('bgLayer');
const bgNext = document.getElementById('bgNext');

function makeGradientCSS(pair){
  // pair Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¢Ø±Ø§ÛŒÙ‡ Ø¯Ùˆ Ø±Ù†Ú¯ ÛŒØ§ ÛŒÚ© Ø±Ù†Ú¯ Ø¨Ø§Ø´Ù‡
  if(!pair) pair = ['#a3d8ff','#ffd6e0'];
  const [a,b] = pair;
  return `linear-gradient(120deg, ${a}, ${b})`;
}

let bgFadeLock = false;
function changeBackgroundSmooth(pair){
  if(!pair) pair = randPalette('misc');
  // Ø§Ú¯Ø± Ù‚ÙÙ„ Ø´Ø¯Ù‡ØŒ Ø³Ø±ÛŒØ¹ Ø§Ø¹Ù…Ø§Ù„ Ú©Ù† Ø§Ù…Ø§ Ø¨Ø¯ÙˆÙ† fade
  const css = makeGradientCSS(pair);
  if(bgFadeLock) { bgLayer.style.background = css; return; }
  // Ù‚Ø±Ø§Ø± Ø¯Ø§Ø¯Ù† Ø¯Ø± Ù„Ø§ÛŒÙ‡Ù” Ø¨Ø¹Ø¯ÛŒ Ùˆ fade Ú©Ø±Ø¯Ù† opacity
  bgNext.style.background = css;
  bgNext.style.opacity = 0;
  // force reflow
  void bgNext.offsetWidth;
  bgNext.style.transition = 'opacity 900ms ease';
  bgNext.style.opacity = 1;
  // Ù¾Ø³ Ø§Ø² Ù¾Ø§ÛŒØ§Ù† Ø§Ù†ÛŒÙ…ÛŒØ´Ù† swap Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§
  setTimeout(()=>{
    bgLayer.style.background = css;
    bgNext.style.opacity = 0;
    bgNext.style.transition = '';
  }, 920);
}

/* init small: set a soft initial gradient */
(function init(){
  changeBackgroundSmooth(randPalette('misc'));
})();

</script>
</body>
</html>